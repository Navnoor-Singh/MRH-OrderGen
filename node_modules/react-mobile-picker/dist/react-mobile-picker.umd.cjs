(function(n,y){typeof exports=="object"&&typeof module<"u"?module.exports=y(require("react")):typeof define=="function"&&define.amd?define(["react"],y):(n=typeof globalThis<"u"?globalThis:n||self,n.Picker=y(n.React))})(this,function(n){"use strict";var y={exports:{}},Y={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re;function se(){if(re)return Y;re=1;var l=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function r(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:l,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Y.Fragment=c,Y.jsx=r,Y.jsxs=r,Y}var F={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe;function ce(){return oe||(oe=1,process.env.NODE_ENV!=="production"&&function(){function l(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case g:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case U:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case E:return"Portal";case S:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case L:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:l(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return l(e(t))}catch{}}return null}function c(e){return""+e}function r(e){try{c(e);var t=!1}catch{t=!0}if(t){t=console;var a=t.error,f=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return a.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",f),c(e)}}function i(e){if(e===v)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===N)return"<...>";try{var t=l(e);return t?"<"+t+">":"<...>"}catch{return"<...>"}}function s(){var e=A.A;return e===null?null:e.getOwner()}function o(){return Error("react-stack-top-frame")}function u(e){if(V.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function d(e,t){function a(){W||(W=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",t))}a.isReactWarning=!0,Object.defineProperty(e,"key",{get:a,configurable:!0})}function T(){var e=l(this.type);return G[e]||(G[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function x(e,t,a,f,w,_,ee,te){return a=_.ref,e={$$typeof:k,type:e,key:t,props:_,_owner:w},(a!==void 0?a:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:T}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:ee}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:te}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function p(e,t,a,f,w,_,ee,te){var m=t.children;if(m!==void 0)if(f)if($(m)){for(f=0;f<m.length;f++)C(m[f]);Object.freeze&&Object.freeze(m)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else C(m);if(V.call(t,"key")){m=l(e);var D=Object.keys(t).filter(function(Te){return Te!=="key"});f=0<D.length?"{key: someKey, "+D.join(": ..., ")+": ...}":"{key: someKey}",J[m+f]||(D=0<D.length?"{"+D.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,f,m,D,m),J[m+f]=!0)}if(m=null,a!==void 0&&(r(a),m=""+a),u(t)&&(r(t.key),m=""+t.key),"key"in t){a={};for(var ne in t)ne!=="key"&&(a[ne]=t[ne])}else a=t;return m&&d(a,typeof e=="function"?e.displayName||e.name||"Unknown":e),x(e,m,_,w,s(),a,ee,te)}function C(e){typeof e=="object"&&e!==null&&e.$$typeof===k&&e._store&&(e._store.validated=1)}var h=n,k=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),q=Symbol.for("react.client.reference"),A=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.prototype.hasOwnProperty,$=Array.isArray,O=console.createTask?console.createTask:function(){return null};h={"react-stack-bottom-frame":function(e){return e()}};var W,G={},M=h["react-stack-bottom-frame"].bind(h,o)(),H=O(i(o)),J={};F.Fragment=v,F.jsx=function(e,t,a,f,w){var _=1e4>A.recentlyCreatedOwnerStacks++;return p(e,t,a,!1,f,w,_?Error("react-stack-top-frame"):M,_?O(i(e)):H)},F.jsxs=function(e,t,a,f,w){var _=1e4>A.recentlyCreatedOwnerStacks++;return p(e,t,a,!0,f,w,_?Error("react-stack-top-frame"):M,_?O(i(e)):H)}}()),F}process.env.NODE_ENV==="production"?y.exports=se():y.exports=ce();var P=y.exports;const le=216,ie=36,ue="off",X=n.createContext(null);X.displayName="PickerDataContext";function B(l){const c=n.useContext(X);if(c===null){const r=new Error(`<${l} /> is missing a parent <Picker /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,B),r}return c}const Z=n.createContext(null);Z.displayName="PickerActionsContext";function Q(l){const c=n.useContext(Z);if(c===null){const r=new Error(`<${l} /> is missing a parent <Picker /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}return c}function fe(l,c=r=>r){return l.slice().sort((r,i)=>{const s=c(r),o=c(i);if(s===null||o===null)return 0;const u=s.compareDocumentPosition(o);return u&Node.DOCUMENT_POSITION_FOLLOWING?-1:u&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function de(l,c){switch(c.type){case"REGISTER_OPTION":{const{key:r,option:i}=c;let s=[...l[r]||[],i];return s=fe(s,o=>o.element.current),{...l,[r]:s}}case"UNREGISTER_OPTION":{const{key:r,option:i}=c;return{...l,[r]:(l[r]||[]).filter(s=>s!==i)}}default:throw Error(`Unknown action: ${c.type}`)}}function me(l){const{style:c,children:r,value:i,onChange:s,height:o=le,itemHeight:u=ie,wheelMode:d=ue,...T}=l,x=n.useMemo(()=>({height:u,marginTop:-(u/2),position:"absolute",top:"50%",left:0,width:"100%",pointerEvents:"none"}),[u]),p=n.useMemo(()=>({height:`${o}px`,position:"relative",display:"flex",justifyContent:"center",overflow:"hidden",maskImage:"linear-gradient(to top, transparent, transparent 5%, white 20%, white 80%, transparent 95%, transparent)",WebkitMaskImage:"linear-gradient(to top, transparent, transparent 5%, white 20%, white 80%, transparent 95%, transparent)"}),[o]),[C,h]=n.useReducer(de,{}),k=n.useMemo(()=>({height:o,itemHeight:u,wheelMode:d,value:i,optionGroups:C}),[o,u,i,C,d]),E=n.useCallback((g,b)=>{if(i[g]===b)return!1;const S={...i,[g]:b};return s(S,g),!0},[s,i]),v=n.useCallback((g,b)=>(h({type:"REGISTER_OPTION",key:g,option:b}),()=>h({type:"UNREGISTER_OPTION",key:g,option:b})),[]),j=n.useMemo(()=>({registerOption:v,change:E}),[v,E]);return P.jsxs("div",{style:{...p,...c},...T,children:[P.jsx(Z.Provider,{value:j,children:P.jsx(X.Provider,{value:k,children:r})}),P.jsxs("div",{style:x,children:[P.jsx("div",{style:{position:"absolute",top:0,bottom:"auto",left:0,right:"auto",width:"100%",height:"1px",background:"#d9d9d9",transform:"scaleY(0.5)"}}),P.jsx("div",{style:{position:"absolute",top:"auto",bottom:0,left:0,right:"auto",width:"100%",height:"1px",background:"#d9d9d9",transform:"scaleY(0.5)"}})]})]})}const K=n.createContext(null);K.displayName="PickerColumnDataContext";function ae(l){const c=n.useContext(K);if(c===null){const r=new Error(`<${l} /> is missing a parent <Picker.Column /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ae),r}return c}function pe({style:l,children:c,name:r,...i}){const{height:s,itemHeight:o,wheelMode:u,value:d,optionGroups:T}=B("Picker.Column"),x=n.useMemo(()=>d[r],[d,r]),p=n.useMemo(()=>T[r]||[],[r,T]),C=n.useMemo(()=>{let t=p.findIndex(a=>a.value===x);return t<0&&(t=0),t},[p,x]),h=n.useMemo(()=>s/2-o*p.length+o/2,[s,o,p]),k=n.useMemo(()=>s/2-o/2,[s,o]),[E,v]=n.useState(0);n.useEffect(()=>{v(s/2-o/2-C*o)},[s,o,C]);const j=Q("Picker.Column"),g=n.useRef(E);g.current=E;const b=n.useCallback(()=>{let t=0;const a=g.current;a>=k?t=0:a<=h?t=p.length-1:t=-Math.round((a-k)/o),j.change(r,p[t].value)||v(s/2-o/2-t*o)},[j,s,o,r,k,h,p]),[S,L]=n.useState(0),[R,U]=n.useState(!1),[z,N]=n.useState(0),I=n.useCallback(t=>{t<h?t=h-Math.pow(h-t,.8):t>k&&(t=k+Math.pow(t-k,.8)),v(t)},[k,h]),q=n.useCallback(t=>{N(t.targetTouches[0].pageY),L(E)},[E]),A=n.useCallback(t=>{t.cancelable&&t.preventDefault(),R||U(!0);const a=S+t.targetTouches[0].pageY-z;I(a)},[R,S,z,I]),V=n.useCallback(()=>{R&&(U(!1),N(0),L(0),b())},[b,R]),$=n.useCallback(()=>{R&&(U(!1),N(0),v(S),L(0))},[R,S]),O=n.useRef(null),W=n.useCallback(t=>{if(t.deltaY===0)return;let a=t.deltaY*.1;Math.abs(a)<o&&(a=o*Math.sign(a)),u==="normal"&&(a=-a);const f=E+a;I(f)},[o,E,I,u]),G=n.useCallback(()=>{b()},[b]),M=n.useCallback(t=>{u!=="off"&&(t.cancelable&&t.preventDefault(),W(t),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{G()},200))},[G,W,O,u]),H=n.useRef(null);n.useEffect(()=>{const t=H.current;return t&&(t.addEventListener("touchmove",A,{passive:!1}),t.addEventListener("wheel",M,{passive:!1})),()=>{t&&(t.removeEventListener("touchmove",A),t.removeEventListener("wheel",M))}},[A,M]);const J=n.useMemo(()=>({flex:"1 1 0%",maxHeight:"100%",transitionProperty:"transform",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",transitionDuration:R?"0ms":"300ms",transform:`translate3d(0, ${E}px, 0)`}),[E,R]),e=n.useMemo(()=>({key:r}),[r]);return P.jsx("div",{style:{...J,...l},ref:H,onTouchStart:q,onTouchEnd:V,onTouchCancel:$,...i,children:P.jsx(K.Provider,{value:e,children:c})})}function he(l){return typeof l=="function"}function Ee({style:l,children:c,value:r,...i}){const s=n.useRef(null),{itemHeight:o,value:u}=B("Picker.Item"),d=Q("Picker.Item"),{key:T}=ae("Picker.Item");n.useEffect(()=>d.registerOption(T,{value:r,element:s}),[T,d,r]);const x=n.useMemo(()=>({height:`${o}px`,display:"flex",justifyContent:"center",alignItems:"center"}),[o]),p=n.useCallback(()=>{d.change(T,r)},[d,T,r]);return P.jsx("div",{style:{...x,...l},ref:s,onClick:p,...i,children:he(c)?c({selected:u[T]===r}):c})}return Object.assign(me,{Column:pe,Item:Ee})});
